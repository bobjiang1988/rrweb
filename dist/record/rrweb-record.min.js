var rrwebRecord=function(){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation.

    Permission to use, copy, modify, and/or distribute this software for any
    purpose with or without fee is hereby granted.

    THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
    REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
    AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
    INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
    LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
    OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
    PERFORMANCE OF THIS SOFTWARE.
    ***************************************************************************** */var e,t=function(){return(t=Object.assign||function(e){for(var t,n=1,o=arguments.length;n<o;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}).apply(this,arguments)};function n(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],o=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&o>=e.length&&(e=void 0),{value:e&&e[o++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function o(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var o,r,a=n.call(e),i=[];try{for(;(void 0===t||t-- >0)&&!(o=a.next()).done;)i.push(o.value)}catch(e){r={error:e}}finally{try{o&&!o.done&&(n=a.return)&&n.call(a)}finally{if(r)throw r.error}}return i}function r(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(o(arguments[t]));return e}function a(e){var t,n=null===(t=e)||void 0===t?void 0:t.host;return Boolean(n&&n.shadowRoot&&n.shadowRoot===e)}!function(e){e[e.Document=0]="Document",e[e.DocumentType=1]="DocumentType",e[e.Element=2]="Element",e[e.Text=3]="Text",e[e.CDATA=4]="CDATA",e[e.Comment=5]="Comment"}(e||(e={}));var i=1,s=RegExp("[^a-z0-9-_]");function l(e){try{var t=e.rules||e.cssRules;return t?Array.from(t).map(u).join(""):null}catch(e){return null}}function u(e){return function(e){return"styleSheet"in e}(e)?l(e.styleSheet)||"":e.cssText}var c=/url\((?:(')([^']*)'|(")([^"]*)"|([^)]*))\)/gm,d=/^(?!www\.|(?:http|ftp)s?:\/\/|[A-Za-z]:\\|\/\/|#).*/,p=/^(data:)([^,]*),(.*)/i;function f(e,t){return(e||"").replace(c,(function(e,n,o,r,a,i){var s,l=o||a||i,u=n||r||"";if(!l)return e;if(!d.test(l))return"url("+u+l+u+")";if(p.test(l))return"url("+u+l+u+")";if("/"===l[0])return"url("+u+(((s=t).indexOf("//")>-1?s.split("/").slice(0,3).join("/"):s.split("/")[0]).split("?")[0]+l)+u+")";var c=t.split("/"),f=l.split("/");c.pop();for(var m=0,h=f;m<h.length;m++){var v=h[m];"."!==v&&(".."===v?c.pop():c.push(v))}return"url("+u+c.join("/")+u+")"}))}var m,h,v,y,g,b=/^[^ \t\n\r\u000c]+/,S=/^[, \t\n\r\u000c]+/;function k(e,t){if(!t||""===t.trim())return t;var n=e.createElement("a");return n.href=t,n.href}function C(){var e=document.createElement("a");return e.href="",e.href}function w(e,t,n,o){return"src"===n||("href"===n||"xlink:href"===n)&&o?k(e,o):"background"!==n||!o||"table"!==t&&"td"!==t&&"th"!==t?"srcset"===n&&o?function(e,t){if(""===t.trim())return t;var n=0;function o(e){var o,r=e.exec(t.substring(n));return r?(o=r[0],n+=o.length,o):""}for(var r=[];o(S),!(n>=t.length);){var a=o(b);if(","===a.slice(-1))a=k(e,a.substring(0,a.length-1)),r.push(a);else{var i="";a=k(e,a);for(var s=!1;;){var l=t.charAt(n);if(""===l){r.push((a+i).trim());break}if(s)")"===l&&(s=!1);else{if(","===l){n+=1,r.push((a+i).trim());break}"("===l&&(s=!0)}i+=l,n+=1}}}return r.join(", ")}(e,o):"style"===n&&o?f(o,C()):o:k(e,o)}function x(e,t,n){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){if("string"==typeof t){if(e.classList.contains(t))return!0}else e.classList.forEach((function(e){if(t.test(e))return!0}));return!(!n||!e.matches(n))||x(e.parentNode,t,n)}return e.nodeType,e.TEXT_NODE,x(e.parentNode,t,n)}function T(t,n){var o,r,a=n.doc,i=n.blockClass,u=n.blockSelector,c=n.maskTextClass,d=n.maskTextSelector,p=n.inlineStylesheet,m=n.maskInputOptions,h=void 0===m?{}:m,v=n.maskTextFn,y=n.recordCanvas;if(a.__zzhl_sn){var g=a.__zzhl_sn.id;o=1===g?void 0:g}switch(t.nodeType){case t.DOCUMENT_NODE:return{type:e.Document,childNodes:[],rootId:o};case t.DOCUMENT_TYPE_NODE:return{type:e.DocumentType,name:t.name,publicId:t.publicId,systemId:t.systemId,rootId:o};case t.ELEMENT_NODE:for(var b=function(e,t,n){if("string"==typeof t){if(e.classList.contains(t))return!0}else for(var o=0;o<e.classList.length;o++){var r=e.classList[o];if(t.test(r))return!0}return!!n&&e.matches(n)}(t,i,u),S=function(e){if(e instanceof HTMLFormElement)return"form";var t=e.tagName.toLowerCase().trim();return s.test(t)?"div":t}(t),k={},T=0,N=Array.from(t.attributes);T<N.length;T++){var O=N[T],E=O.name,I=O.value;k[E]=w(a,S,E,I)}if("link"===S&&p){var M,_=Array.from(a.styleSheets).find((function(e){return e.href===t.href}));(M=l(_))&&(delete k.rel,delete k.href,k._cssText=f(M,_.href))}if("style"===S&&t.sheet&&!(t.innerText||t.textContent||"").trim().length)(M=l(t.sheet))&&(k._cssText=f(M,C()));if("input"===S||"textarea"===S||"select"===S){I=t.value;"radio"!==k.type&&"checkbox"!==k.type&&"submit"!==k.type&&"button"!==k.type&&I?k.value=h[k.type]||h[S]?"*".repeat(I.length):I:t.checked&&(k.checked=t.checked)}if("option"===S){var L=t.parentElement;k.value===L.value&&(k.selected=t.selected)}if("canvas"===S&&y&&(k.rr_dataURL=t.toDataURL()),"audio"!==S&&"video"!==S||(k.rr_mediaState=t.paused?"paused":"played"),t.scrollLeft&&(k.rr_scrollLeft=t.scrollLeft),t.scrollTop&&(k.rr_scrollTop=t.scrollTop),b){var D=t.getBoundingClientRect(),z=D.width,R=D.height;k={class:k.class,rr_width:z+"px",rr_height:R+"px"}}return"iframe"===S&&delete k.src,{type:e.Element,tagName:S,attributes:k,childNodes:[],isSVG:(r=t,"svg"===r.tagName||r instanceof SVGElement||void 0),needBlock:b,rootId:o};case t.TEXT_NODE:var F=t.parentNode&&t.parentNode.tagName,A=t.textContent,P="STYLE"===F||void 0,j="SCRIPT"===F||void 0;return P&&A&&(A=f(A,C())),j&&(A="SCRIPT_PLACEHOLDER"),!P&&!j&&x(t,c,d)&&A&&(A=v?v(A):A.replace(/[\S]/g,"*")),{type:e.Text,textContent:A||"",isStyle:P,rootId:o};case t.CDATA_SECTION_NODE:return{type:e.CDATA,textContent:"",rootId:o};case t.COMMENT_NODE:return{type:e.Comment,textContent:t.textContent||"",rootId:o};default:return!1}}function N(e){return void 0===e?"":e.toLowerCase()}function O(t,n){var o,r=n.doc,s=n.map,l=n.blockClass,u=n.blockSelector,c=n.maskTextClass,d=n.maskTextSelector,p=n.skipChild,f=void 0!==p&&p,m=n.inlineStylesheet,h=void 0===m||m,v=n.maskInputOptions,y=void 0===v?{}:v,g=n.maskTextFn,b=n.slimDOMOptions,S=n.recordCanvas,k=void 0!==S&&S,C=n.onSerialize,w=n.onIframeLoad,x=n.iframeLoadTimeout,E=void 0===x?5e3:x,I=n.preserveWhiteSpace,M=void 0===I||I,_=T(t,{doc:r,blockClass:l,blockSelector:u,maskTextClass:c,maskTextSelector:d,inlineStylesheet:h,maskInputOptions:y,maskTextFn:g,recordCanvas:k});if(!_)return console.warn(t,"not serialized"),null;o="__zzhl_sn"in t?t.__zzhl_sn.id:!function(t,n){if(n.comment&&t.type===e.Comment)return!0;if(t.type===e.Element){if(n.script&&("script"===t.tagName||"link"===t.tagName&&"preload"===t.attributes.rel&&"script"===t.attributes.as))return!0;if(n.headFavicon&&("link"===t.tagName&&"shortcut icon"===t.attributes.rel||"meta"===t.tagName&&(N(t.attributes.name).match(/^msapplication-tile(image|color)$/)||"application-name"===N(t.attributes.name)||"icon"===N(t.attributes.rel)||"apple-touch-icon"===N(t.attributes.rel)||"shortcut icon"===N(t.attributes.rel))))return!0;if("meta"===t.tagName){if(n.headMetaDescKeywords&&N(t.attributes.name).match(/^description|keywords$/))return!0;if(n.headMetaSocial&&(N(t.attributes.property).match(/^(og|twitter|fb):/)||N(t.attributes.name).match(/^(og|twitter):/)||"pinterest"===N(t.attributes.name)))return!0;if(n.headMetaRobots&&("robots"===N(t.attributes.name)||"googlebot"===N(t.attributes.name)||"bingbot"===N(t.attributes.name)))return!0;if(n.headMetaHttpEquiv&&void 0!==t.attributes["http-equiv"])return!0;if(n.headMetaAuthorship&&("author"===N(t.attributes.name)||"generator"===N(t.attributes.name)||"framework"===N(t.attributes.name)||"publisher"===N(t.attributes.name)||"progid"===N(t.attributes.name)||N(t.attributes.property).match(/^article:/)||N(t.attributes.property).match(/^product:/)))return!0;if(n.headMetaVerification&&("google-site-verification"===N(t.attributes.name)||"yandex-verification"===N(t.attributes.name)||"csrf-token"===N(t.attributes.name)||"p:domain_verify"===N(t.attributes.name)||"verify-v1"===N(t.attributes.name)||"verification"===N(t.attributes.name)||"shopify-checkout-api-token"===N(t.attributes.name)))return!0}}return!1}(_,b)&&(M||_.type!==e.Text||_.isStyle||_.textContent.replace(/^\s+|\s+$/gm,"").length)?i++:-2;var L=Object.assign(_,{id:o});if(t.__zzhl_sn=L,-2===o)return null;s[o]=t,C&&C(t);var D=!f;if(L.type===e.Element&&(D=D&&!L.needBlock,delete L.needBlock),(L.type===e.Document||L.type===e.Element)&&D){b.headWhitespace&&_.type===e.Element&&"head"===_.tagName&&(M=!1);for(var z={doc:r,map:s,blockClass:l,blockSelector:u,maskTextClass:c,maskTextSelector:d,skipChild:f,inlineStylesheet:h,maskInputOptions:y,maskTextFn:g,slimDOMOptions:b,recordCanvas:k,preserveWhiteSpace:M,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:E},R=0,F=Array.from(t.childNodes);R<F.length;R++){(j=O(F[R],z))&&L.childNodes.push(j)}if(function(e){return e.nodeType===e.ELEMENT_NODE}(t)&&t.shadowRoot){L.isShadowHost=!0;for(var A=0,P=Array.from(t.shadowRoot.childNodes);A<P.length;A++){var j;(j=O(P[A],z))&&(j.isShadow=!0,L.childNodes.push(j))}}}return t.parentNode&&a(t.parentNode)&&(L.isShadow=!0),L.type===e.Element&&"iframe"===L.tagName&&function(e,t,n){var o=e.contentWindow;if(o){var r,a=!1;try{r=o.document.readyState}catch(e){return}if("complete"===r){"about:blank"===o.location.href&&"about:blank"!==e.src&&""!==e.src?e.addEventListener("load",t):t()}else{var i=setTimeout((function(){a||(t(),a=!0)}),n);e.addEventListener("load",(function(){clearTimeout(i),a=!0,t()}))}}}(t,(function(){var e=t.contentDocument;if(e&&w){var n=O(e,{doc:e,map:s,blockClass:l,blockSelector:u,maskTextClass:c,maskTextSelector:d,skipChild:!1,inlineStylesheet:h,maskInputOptions:y,maskTextFn:g,slimDOMOptions:b,recordCanvas:k,preserveWhiteSpace:M,onSerialize:C,onIframeLoad:w,iframeLoadTimeout:E});n&&w(t,n)}}),E),L}function E(e,t,n){void 0===n&&(n=document);var o={capture:!0,passive:!0};return n.addEventListener(e,t,o),function(){return n.removeEventListener(e,t,o)}}!function(e){e[e.DomContentLoaded=0]="DomContentLoaded",e[e.Load=1]="Load",e[e.FullSnapshot=2]="FullSnapshot",e[e.IncrementalSnapshot=3]="IncrementalSnapshot",e[e.Meta=4]="Meta",e[e.Custom=5]="Custom"}(m||(m={})),function(e){e[e.Mutation=0]="Mutation",e[e.MouseMove=1]="MouseMove",e[e.MouseInteraction=2]="MouseInteraction",e[e.Scroll=3]="Scroll",e[e.ViewportResize=4]="ViewportResize",e[e.Input=5]="Input",e[e.TouchMove=6]="TouchMove",e[e.MediaInteraction=7]="MediaInteraction",e[e.StyleSheetRule=8]="StyleSheetRule",e[e.CanvasMutation=9]="CanvasMutation",e[e.Font=10]="Font",e[e.Log=11]="Log",e[e.Drag=12]="Drag"}(h||(h={})),function(e){e[e.MouseUp=0]="MouseUp",e[e.MouseDown=1]="MouseDown",e[e.Click=2]="Click",e[e.ContextMenu=3]="ContextMenu",e[e.DblClick=4]="DblClick",e[e.Focus=5]="Focus",e[e.Blur=6]="Blur",e[e.TouchStart=7]="TouchStart",e[e.TouchMove_Departed=8]="TouchMove_Departed",e[e.TouchEnd=9]="TouchEnd"}(v||(v={})),function(e){e[e.Play=0]="Play",e[e.Pause=1]="Pause"}(y||(y={})),function(e){e.Start="start",e.Pause="pause",e.Resume="resume",e.Resize="resize",e.Finish="finish",e.FullsnapshotRebuilded="fullsnapshot-rebuilded",e.LoadStylesheetStart="load-stylesheet-start",e.LoadStylesheetEnd="load-stylesheet-end",e.SkipStart="skip-start",e.SkipEnd="skip-end",e.MouseInteraction="mouse-interaction",e.EventCast="event-cast",e.CustomEvent="custom-event",e.Flush="flush",e.StateChange="state-change",e.PlayBack="play-back"}(g||(g={}));var I={map:{},getId:function(e){return e.__zzhl_sn?e.__zzhl_sn.id:-1},getNode:function(e){return I.map[e]||null},removeNodeFromMap:function(e){var t=e.__zzhl_sn&&e.__zzhl_sn.id;delete I.map[t],e.childNodes&&e.childNodes.forEach((function(e){return I.removeNodeFromMap(e)}))},has:function(e){return I.map.hasOwnProperty(e)},reset:function(){I.map={}}};function M(e,t,n){void 0===n&&(n={});var o=null,r=0;return function(a){var i=Date.now();r||!1!==n.leading||(r=i);var s=t-(i-r),l=this,u=arguments;s<=0||s>t?(o&&(window.clearTimeout(o),o=null),r=i,e.apply(l,u)):o||!1===n.trailing||(o=window.setTimeout((function(){r=!1===n.leading?0:Date.now(),o=null,e.apply(l,u)}),s))}}function _(e,t,n,o,r){void 0===r&&(r=window);var a=r.Object.getOwnPropertyDescriptor(e,t);return r.Object.defineProperty(e,t,o?n:{set:function(e){var t=this;setTimeout((function(){n.set.call(t,e)}),0),a&&a.set&&a.set.call(this,e)}}),function(){return _(e,t,a||{},!0)}}function L(e,t,n){try{if(!(t in e))return function(){};var o=e[t],r=n(o);return"function"==typeof r&&(r.prototype=r.prototype||{},Object.defineProperties(r,{__rrweb_original__:{enumerable:!1,value:o}})),e[t]=r,function(){e[t]=o}}catch(e){return function(){}}}function D(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight}function z(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth}function R(e,t){if(!e)return!1;if(e.nodeType===e.ELEMENT_NODE){var n=!1;return"string"==typeof t?n=e.classList.contains(t):e.classList.forEach((function(e){t.test(e)&&(n=!0)})),n||R(e.parentNode,t)}return e.nodeType,e.TEXT_NODE,R(e.parentNode,t)}function F(e){return"__zzhl_sn"in e&&-2===e.__zzhl_sn.id}function A(e){return Boolean(e.changedTouches)}function P(t){return"__zzhl_sn"in t&&(t.__zzhl_sn.type===e.Element&&"iframe"===t.__zzhl_sn.tagName)}function j(e){var t;return Boolean(null===(t=e)||void 0===t?void 0:t.shadowRoot)}function H(e){return"__ln"in e}var W=function(){function e(){this.length=0,this.head=null}return e.prototype.get=function(e){if(e>=this.length)throw new Error("Position outside of list range");for(var t=this.head,n=0;n<e;n++)t=(null==t?void 0:t.next)||null;return t},e.prototype.addNode=function(e){var t={value:e,previous:null,next:null};if(e.__ln=t,e.previousSibling&&H(e.previousSibling)){var n=e.previousSibling.__ln.next;t.next=n,t.previous=e.previousSibling.__ln,e.previousSibling.__ln.next=t,n&&(n.previous=t)}else if(e.nextSibling&&H(e.nextSibling)&&e.nextSibling.__ln.previous){n=e.nextSibling.__ln.previous;t.previous=n,t.next=e.nextSibling.__ln,e.nextSibling.__ln.previous=t,n&&(n.next=t)}else this.head&&(this.head.previous=t),t.next=this.head,this.head=t;this.length++},e.prototype.removeNode=function(e){var t=e.__ln;this.head&&(t.previous?(t.previous.next=t.next,t.next&&(t.next.previous=t.previous)):(this.head=t.next,this.head&&(this.head.previous=null)),e.__ln&&delete e.__ln,this.length--)},e}(),V=function(e,t){return e+"@"+t};function B(e){return"__zzhl_sn"in e}var U=function(){function e(){var e=this;this.frozen=!1,this.locked=!1,this.texts=[],this.attributes=[],this.removes=[],this.mapRemoves=[],this.movedMap={},this.addedSet=new Set,this.movedSet=new Set,this.droppedSet=new Set,this.processMutations=function(t){t.forEach(e.processMutation),e.emit()},this.emit=function(){var t,o,r,i;if(!e.frozen&&!e.locked){for(var s=[],l=new W,u=function(t){for(var n=t,o=-2;-2===o;)o=(n=n&&n.nextSibling)&&I.getId(n);return-1===o&&R(t.nextSibling,e.blockClass)&&(o=null),o},c=function(t){var n,o=t.getRootNode?null===(n=t.getRootNode())||void 0===n?void 0:n.host:null,r=!e.doc.contains(t)&&!e.doc.contains(o);if(t.parentNode&&!r){var i=a(t.parentNode)?I.getId(o):I.getId(t.parentNode),c=u(t);if(-1===i||-1===c)return l.addNode(t);var d=O(t,{doc:e.doc,map:I.map,blockClass:e.blockClass,blockSelector:e.blockSelector,maskTextClass:e.maskTextClass,maskTextSelector:e.maskTextSelector,skipChild:!0,inlineStylesheet:e.inlineStylesheet,maskInputOptions:e.maskInputOptions,maskTextFn:e.maskTextFn,slimDOMOptions:e.slimDOMOptions,recordCanvas:e.recordCanvas,onSerialize:function(n){P(n)&&e.iframeManager.addIframe(n),j(t)&&e.shadowDomManager.addShadowRoot(t.shadowRoot,document)},onIframeLoad:function(t,n){e.iframeManager.attachIframe(t,n)}});d&&s.push({parentId:i,nextId:c,node:d})}};e.mapRemoves.length;)I.removeNodeFromMap(e.mapRemoves.shift());try{for(var d=n(e.movedSet),p=d.next();!p.done;p=d.next()){var f=p.value;q(e.removes,f)&&!e.movedSet.has(f.parentNode)||c(f)}}catch(e){t={error:e}}finally{try{p&&!p.done&&(o=d.return)&&o.call(d)}finally{if(t)throw t.error}}try{for(var m=n(e.addedSet),h=m.next();!h.done;h=m.next()){f=h.value;X(e.droppedSet,f)||q(e.removes,f)?X(e.movedSet,f)?c(f):e.droppedSet.add(f):c(f)}}catch(e){r={error:e}}finally{try{h&&!h.done&&(i=m.return)&&i.call(m)}finally{if(r)throw r.error}}for(var v=null;l.length;){var y=null;if(v){var g=I.getId(v.value.parentNode),b=u(v.value);-1!==g&&-1!==b&&(y=v)}if(!y)for(var S=l.length-1;S>=0;S--){var k=l.get(S);g=I.getId(k.value.parentNode),b=u(k.value);if(-1!==g&&-1!==b){y=k;break}}if(!y){for(;l.head;)l.removeNode(l.head.value);break}v=y.previous,l.removeNode(y.value),c(y.value)}var C={texts:e.texts.map((function(e){return{id:I.getId(e.node),value:e.value}})).filter((function(e){return I.has(e.id)})),attributes:e.attributes.map((function(e){return{id:I.getId(e.node),attributes:e.attributes}})).filter((function(e){return I.has(e.id)})),removes:e.removes,adds:s};(C.texts.length||C.attributes.length||C.removes.length||C.adds.length)&&(e.texts=[],e.attributes=[],e.removes=[],e.addedSet=new Set,e.movedSet=new Set,e.droppedSet=new Set,e.movedMap={},e.emissionCallback(C))}},this.processMutation=function(t){if(!F(t.target))switch(t.type){case"characterData":var n=t.target.textContent;R(t.target,e.blockClass)||n===t.oldValue||e.texts.push({value:x(t.target,e.maskTextClass,e.maskTextSelector)&&n?e.maskTextFn?e.maskTextFn(n):n.replace(/[\S]/g,"*"):n,node:t.target});break;case"attributes":n=t.target.getAttribute(t.attributeName);if(R(t.target,e.blockClass)||n===t.oldValue)return;var o=e.attributes.find((function(e){return e.node===t.target}));o||(o={node:t.target,attributes:{}},e.attributes.push(o)),o.attributes[t.attributeName]=w(e.doc,t.target.tagName,t.attributeName,n);break;case"childList":t.addedNodes.forEach((function(n){return e.genAdds(n,t.target)})),t.removedNodes.forEach((function(n){var o=I.getId(n),r=a(t.target)?I.getId(t.target.host):I.getId(t.target);R(n,e.blockClass)||R(t.target,e.blockClass)||F(n)||(e.addedSet.has(n)?($(e.addedSet,n),e.droppedSet.add(n)):e.addedSet.has(t.target)&&-1===o||function e(t){if(a(t))return!1;var n=I.getId(t);return!I.has(n)||(!t.parentNode||t.parentNode.nodeType!==t.DOCUMENT_NODE)&&(!t.parentNode||e(t.parentNode))}(t.target)||(e.movedSet.has(n)&&e.movedMap[V(o,r)]?$(e.movedSet,n):e.removes.push({parentId:r,id:o,isShadow:!!a(t.target)||void 0})),e.mapRemoves.push(n))}))}},this.genAdds=function(t,n){if(!(R(t,e.blockClass)||n&&R(n,e.blockClass))){if(B(t)){if(F(t))return;e.movedSet.add(t);var o=null;n&&B(n)&&(o=n.__zzhl_sn.id),o&&(e.movedMap[V(t.__zzhl_sn.id,o)]=!0)}else e.addedSet.add(t),e.droppedSet.delete(t);t.childNodes.forEach((function(t){return e.genAdds(t)}))}}}return e.prototype.init=function(e,t,n,o,r,a,i,s,l,u,c,d,p){this.blockClass=t,this.blockSelector=n,this.maskTextClass=o,this.maskTextSelector=r,this.inlineStylesheet=a,this.maskInputOptions=i,this.maskTextFn=s,this.recordCanvas=l,this.slimDOMOptions=u,this.emissionCallback=e,this.doc=c,this.iframeManager=d,this.shadowDomManager=p},e.prototype.freeze=function(){this.frozen=!0},e.prototype.unfreeze=function(){this.frozen=!1,this.emit()},e.prototype.isFrozen=function(){return this.frozen},e.prototype.lock=function(){this.locked=!0},e.prototype.unlock=function(){this.locked=!1,this.emit()},e}();function $(e,t){e.delete(t),t.childNodes.forEach((function(t){return $(e,t)}))}function q(e,t){var n=t.parentNode;if(!n)return!1;var o=I.getId(n);return!!e.some((function(e){return e.id===o}))||q(e,n)}function X(e,t){var n=t.parentNode;return!!n&&(!!e.has(n)||X(e,n))}function Y(e){if(!e||!e.outerHTML)return"";for(var t="";e.parentElement;){var n=e.localName;if(!n)break;n=n.toLowerCase();var o=e.parentElement,r=[];if(o.children&&o.children.length>0)for(var a=0;a<o.children.length;a++){var i=o.children[a];i.localName&&i.localName.toLowerCase&&i.localName.toLowerCase()===n&&r.push(i)}r.length>1&&(n+=":eq("+r.indexOf(e)+")"),t=n+(t?">"+t:""),e=o}return t}function K(e,t){var n={numOfKeysLimit:50};Object.assign(n,t);var o=[],r=[];return JSON.stringify(e,(function(e,t){if(o.length>0){var a=o.indexOf(this);~a?o.splice(a+1):o.push(this),~a?r.splice(a,1/0,e):r.push(e),~o.indexOf(t)&&(t=o[0]===t?"[Circular ~]":"[Circular ~."+r.slice(0,o.indexOf(t)).join(".")+"]")}else o.push(t);if(null==t)return t;if(function(e){if("object"==typeof e&&Object.keys(e).length>n.numOfKeysLimit)return!0;if("function"==typeof e)return!0;return!1}(t))return function(e){var t=e.toString();n.stringLengthLimit&&t.length>n.stringLengthLimit&&(t=t.slice(0,n.stringLengthLimit)+"...");return t}(t);if(t instanceof Event){var i={};for(var s in t){var l=t[s];Array.isArray(l)?i[s]=Y(l.length?l[0]:null):i[s]=l}return i}return t instanceof Node?t instanceof HTMLElement?t?t.outerHTML:"":t.nodeName:t}))}var G=function(){function e(e){this.fileName=e.fileName||"",this.functionName=e.functionName||"",this.lineNumber=e.lineNumber,this.columnNumber=e.columnNumber}return e.prototype.toString=function(){var e=this.lineNumber||"",t=this.columnNumber||"";return this.functionName?this.functionName+" ("+this.fileName+":"+e+":"+t+")":this.fileName+":"+e+":"+t},e}(),J=/(^|@)\S+:\d+/,Z=/^\s*at .*(\S+:\d+|\(native\))/m,Q=/^(eval@)?(\[native code])?$/,ee={parse:function(e){if(void 0!==e.stacktrace||void 0!==e["opera#sourceloc"])return this.parseOpera(e);if(e.stack&&e.stack.match(Z))return this.parseV8OrIE(e);if(e.stack)return this.parseFFOrSafari(e);throw new Error("Cannot parse given Error object")},extractLocation:function(e){if(-1===e.indexOf(":"))return[e];var t=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(e.replace(/[()]/g,""));if(!t)throw new Error("Cannot parse given url: "+e);return[t[1],t[2]||void 0,t[3]||void 0]},parseV8OrIE:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(Z)}),this).map((function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var t=e.replace(/^\s+/,"").replace(/\(eval code/g,"("),n=t.match(/ (\((.+):(\d+):(\d+)\)$)/),o=(t=n?t.replace(n[0],""):t).split(/\s+/).slice(1),r=this.extractLocation(n?n[1]:o.pop()),a=o.join(" ")||void 0,i=["eval","<anonymous>"].indexOf(r[0])>-1?void 0:r[0];return new G({functionName:a,fileName:i,lineNumber:r[1],columnNumber:r[2]})}),this)},parseFFOrSafari:function(e){return e.stack.split("\n").filter((function(e){return!e.match(Q)}),this).map((function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),-1===e.indexOf("@")&&-1===e.indexOf(":"))return new G({functionName:e});var t=/((.*".+"[^@]*)?[^@]*)(?:@)/,n=e.match(t),o=n&&n[1]?n[1]:void 0,r=this.extractLocation(e.replace(t,""));return new G({functionName:o,fileName:r[0],lineNumber:r[1],columnNumber:r[2]})}),this)},parseOpera:function(e){return!e.stacktrace||e.message.indexOf("\n")>-1&&e.message.split("\n").length>e.stacktrace.split("\n").length?this.parseOpera9(e):e.stack?this.parseOpera11(e):this.parseOpera10(e)},parseOpera9:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),o=[],r=2,a=n.length;r<a;r+=2){var i=t.exec(n[r]);i&&o.push(new G({fileName:i[2],lineNumber:parseFloat(i[1])}))}return o},parseOpera10:function(e){for(var t=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),o=[],r=0,a=n.length;r<a;r+=2){var i=t.exec(n[r]);i&&o.push(new G({functionName:i[3]||void 0,fileName:i[2],lineNumber:parseFloat(i[1])}))}return o},parseOpera11:function(e){return e.stack.split("\n").filter((function(e){return!!e.match(J)&&!e.match(/^Error created at/)}),this).map((function(e){var t=e.split("@"),n=this.extractLocation(t.pop()),o=(t.shift()||"").replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0;return new G({functionName:o,fileName:n[0],lineNumber:n[1],columnNumber:n[2]})}),this)}},te=[];function ne(e,t,n,o,r,a,i,s,l,u,c,d,p,f){var m,h,v,y=new U;te.push(y),y.init(e,n,o,r,a,i,s,l,u,c,t,d,p);var g=window.MutationObserver||window.__rrMutationObserver,b=null===(v=null===(h=null===(m=window)||void 0===m?void 0:m.Zone)||void 0===h?void 0:h.__symbol__)||void 0===v?void 0:v.call(h,"MutationObserver");b&&window[b]&&(g=window[b]);var S=new g(y.processMutations.bind(y));return S.observe(f,{attributes:!0,attributeOldValue:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0}),S}function oe(e,t,n,o){if(!1===o.mouseInteraction)return function(){};var r=!0===o.mouseInteraction||void 0===o.mouseInteraction?{}:o.mouseInteraction,a=[];return Object.keys(v).filter((function(e){return Number.isNaN(Number(e))&&!e.endsWith("_Departed")&&!1!==r[e]})).forEach((function(o){var r=o.toLowerCase(),i=function(t){return function(o){if(!R(o.target,n)){var r=A(o)?o.changedTouches[0]:o;if(r){var a=I.getId(o.target),i=r.clientX,s=r.clientY;e({type:v[t],id:a,x:i,y:s})}}}}(o);a.push(E(r,i,t))})),function(){a.forEach((function(e){return e()}))}}var re=["INPUT","TEXTAREA","SELECT"],ae=new WeakMap;function ie(e,o){void 0===o&&(o={}),function(e,t){var n=e.mutationCb,o=e.mousemoveCb,a=e.mouseInteractionCb,i=e.scrollCb,s=e.viewportResizeCb,l=e.inputCb,u=e.mediaInteractionCb,c=e.styleSheetRuleCb,d=e.canvasMutationCb,p=e.fontCb,f=e.logCb;e.mutationCb=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.mutation&&t.mutation.apply(t,r(e)),n.apply(void 0,r(e))},e.mousemoveCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mousemove&&t.mousemove.apply(t,r(e)),o.apply(void 0,r(e))},e.mouseInteractionCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mouseInteraction&&t.mouseInteraction.apply(t,r(e)),a.apply(void 0,r(e))},e.scrollCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.scroll&&t.scroll.apply(t,r(e)),i.apply(void 0,r(e))},e.viewportResizeCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.viewportResize&&t.viewportResize.apply(t,r(e)),s.apply(void 0,r(e))},e.inputCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.input&&t.input.apply(t,r(e)),l.apply(void 0,r(e))},e.mediaInteractionCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.mediaInteaction&&t.mediaInteaction.apply(t,r(e)),u.apply(void 0,r(e))},e.styleSheetRuleCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.styleSheetRule&&t.styleSheetRule.apply(t,r(e)),c.apply(void 0,r(e))},e.canvasMutationCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.canvasMutation&&t.canvasMutation.apply(t,r(e)),d.apply(void 0,r(e))},e.fontCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.font&&t.font.apply(t,r(e)),p.apply(void 0,r(e))},e.logCb=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];t.log&&t.log.apply(t,r(e)),f.apply(void 0,r(e))}}(e,o);var a,i,s,l=ne(e.mutationCb,e.doc,e.blockClass,e.blockSelector,e.maskTextClass,e.maskTextSelector,e.inlineStylesheet,e.maskInputOptions,e.maskTextFn,e.recordCanvas,e.slimDOMOptions,e.iframeManager,e.shadowDomManager,e.doc),u=function(e,t,n){if(!1===t.mousemove)return function(){};var o,r="number"==typeof t.mousemove?t.mousemove:50,a="number"==typeof t.mousemoveCallback?t.mousemoveCallback:500,i=[],s=M((function(t){var n=Date.now()-o;e(i.map((function(e){return e.timeOffset-=n,e})),t),i=[],o=null}),a),l=M((function(e){var t=e.target,n=A(e)?e.changedTouches[0]:e,r=n.clientX,a=n.clientY;o||(o=Date.now()),i.push({x:r,y:a,id:I.getId(t),timeOffset:Date.now()-o}),s(e instanceof MouseEvent?h.MouseMove:e instanceof DragEvent?h.Drag:h.TouchMove)}),r,{trailing:!1}),u=[E("mousemove",l,n),E("touchmove",l,n),E("drag",l,n)];return function(){u.forEach((function(e){return e()}))}}(e.mousemoveCb,e.sampling,e.doc),c=oe(e.mouseInteractionCb,e.doc,e.blockClass,e.sampling),d=(a=e.scrollCb,i=e.doc,s=e.blockClass,E("scroll",M((function(e){if(e.target&&!R(e.target,s)){var t=I.getId(e.target);if(e.target===i){var n=i.scrollingElement||i.documentElement;a({id:t,x:n.scrollLeft,y:n.scrollTop})}else a({id:t,x:e.target.scrollLeft,y:e.target.scrollTop})}}),e.sampling.scroll||100))),p=function(e){var t=-1,n=-1;return E("resize",M((function(){var o=D(),r=z();t===o&&n===r||(e({width:Number(r),height:Number(o)}),t=o,n=r)}),200),window)}(e.viewportResizeCb),f=function(e,n,o,a,i,s,l){function u(e){var t=e.target;if(t&&t.tagName&&!(re.indexOf(t.tagName)<0)&&!R(t,o)){var r=t.type;if("password"!==r&&!t.classList.contains(a)){var l=t.value,u=!1;"radio"===r||"checkbox"===r?u=t.checked:(i[t.tagName.toLowerCase()]||i[r])&&(l=s?s(l):"*".repeat(l.length)),c(t,{text:l,isChecked:u});var d=t.name;"radio"===r&&d&&u&&n.querySelectorAll('input[type="radio"][name="'+d+'"]').forEach((function(e){e!==t&&c(e,{text:e.value,isChecked:!u})}))}}}function c(n,o){var r=ae.get(n);if(!r||r.text!==o.text||r.isChecked!==o.isChecked){ae.set(n,o);var a=I.getId(n);e(t(t({},o),{id:a}))}}var d=("last"===l.input?["change"]:["input","change"]).map((function(e){return E(e,u,n)})),p=Object.getOwnPropertyDescriptor(HTMLInputElement.prototype,"value"),f=[[HTMLInputElement.prototype,"value"],[HTMLInputElement.prototype,"checked"],[HTMLSelectElement.prototype,"value"],[HTMLTextAreaElement.prototype,"value"],[HTMLSelectElement.prototype,"selectedIndex"]];return p&&p.set&&d.push.apply(d,r(f.map((function(e){return _(e[0],e[1],{set:function(){u({target:this})}})})))),function(){d.forEach((function(e){return e()}))}}(e.inputCb,e.doc,e.blockClass,e.ignoreClass,e.maskInputOptions,e.maskInputFn,e.sampling),m=function(e,t){var n=function(n){return function(o){var r=o.target;r&&!R(r,t)&&e({type:"play"===n?y.Play:y.Pause,id:I.getId(r)})}},o=[E("play",n("play")),E("pause",n("pause"))];return function(){o.forEach((function(e){return e()}))}}(e.mediaInteractionCb,e.blockClass),v=function(e){var t=CSSStyleSheet.prototype.insertRule;CSSStyleSheet.prototype.insertRule=function(n,o){var r=I.getId(this.ownerNode);return-1!==r&&e({id:r,adds:[{rule:n,index:o}]}),t.apply(this,arguments)};var n=CSSStyleSheet.prototype.deleteRule;return CSSStyleSheet.prototype.deleteRule=function(t){var o=I.getId(this.ownerNode);return-1!==o&&e({id:o,removes:[{index:t}]}),n.apply(this,arguments)},function(){CSSStyleSheet.prototype.insertRule=t,CSSStyleSheet.prototype.deleteRule=n}}(e.styleSheetRuleCb),g=e.recordCanvas?function(e,t){var o,a,i=Object.getOwnPropertyNames(CanvasRenderingContext2D.prototype),s=[],l=function(n){try{if("function"!=typeof CanvasRenderingContext2D.prototype[n])return"continue";var o=L(CanvasRenderingContext2D.prototype,n,(function(o){return function(){for(var a=this,i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return R(this.canvas,t)||setTimeout((function(){var t=r(i);"drawImage"===n&&t[0]&&t[0]instanceof HTMLCanvasElement&&(t[0]=t[0].toDataURL()),e({id:I.getId(a.canvas),property:n,args:t})}),0),o.apply(this,i)}}));s.push(o)}catch(t){var a=_(CanvasRenderingContext2D.prototype,n,{set:function(t){e({id:I.getId(this.canvas),property:n,args:[t],setter:!0})}});s.push(a)}};try{for(var u=n(i),c=u.next();!c.done;c=u.next()){l(c.value)}}catch(e){o={error:e}}finally{try{c&&!c.done&&(a=u.return)&&a.call(u)}finally{if(o)throw o.error}}return function(){s.forEach((function(e){return e()}))}}(e.canvasMutationCb,e.blockClass):function(){},b=e.collectFonts?function(e){var t=[],n=new WeakMap,o=FontFace;window.FontFace=function(e,t,r){var a=new o(e,t,r);return n.set(a,{family:e,buffer:"string"!=typeof t,descriptors:r,fontSource:"string"==typeof t?t:JSON.stringify(Array.from(new Uint8Array(t)))}),a};var r=L(document.fonts,"add",(function(t){return function(o){return setTimeout((function(){var t=n.get(o);t&&(e(t),n.delete(o))}),0),t.apply(this,[o])}}));return t.push((function(){window.FonFace=o})),t.push(r),function(){t.forEach((function(e){return e()}))}}(e.fontCb):function(){},S=e.logOptions?function(e,t){var o,a,i=this,s=t.logger;if(!s)return function(){};var l=0,u=[];if(t.level.includes("error")&&window){var c=window.onerror;window.onerror=function(n,o,r,a,s){c&&c.apply(i,[n,o,r,a,s]);var l=ee.parse(s).map((function(e){return e.toString()})),u=[K(n,t.stringifyOptions)];e({level:"error",trace:l,payload:u})},u.push((function(){window.onerror=c}))}try{for(var d=n(t.level),p=d.next();!p.done;p=d.next()){var f=p.value;u.push(m(s,f))}}catch(e){o={error:e}}finally{try{p&&!p.done&&(a=d.return)&&a.call(d)}finally{if(o)throw o.error}}return function(){u.forEach((function(e){return e()}))};function m(n,o){var a=this;return n[o]?L(n,o,(function(n){return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];n.apply(a,i);try{var u=ee.parse(new Error).map((function(e){return e.toString()})).splice(1),c=i.map((function(e){return K(e,t.stringifyOptions)}));++l<t.lengthThreshold?e({level:o,trace:u,payload:c}):l===t.lengthThreshold&&e({level:"warn",trace:[],payload:[K("The number of log records reached the threshold.")]})}catch(e){n.apply(void 0,r(["rrweb logger error:",e],i))}}})):function(){}}}(e.logCb,e.logOptions):function(){};return function(){l.disconnect(),u(),c(),d(),p(),f(),m(),v(),g(),b(),S()}}var se,le,ue=function(){function e(e){this.iframes=new WeakMap,this.mutationCb=e.mutationCb}return e.prototype.addIframe=function(e){this.iframes.set(e,!0)},e.prototype.addLoadListener=function(e){this.loadListener=e},e.prototype.attachIframe=function(e,t){var n;this.mutationCb({adds:[{parentId:e.__zzhl_sn.id,nextId:null,node:t}],removes:[],texts:[],attributes:[],isAttachIframe:!0}),null===(n=this.loadListener)||void 0===n||n.call(this,e)},e}(),ce=function(){function e(e){this.mutationCb=e.mutationCb,this.bypassOptions=e.bypassOptions}return e.prototype.addShadowRoot=function(e,t){ne(this.mutationCb,t,this.bypassOptions.blockClass,this.bypassOptions.blockSelector,this.bypassOptions.maskTextClass,this.bypassOptions.maskTextSelector,this.bypassOptions.inlineStylesheet,this.bypassOptions.maskInputOptions,this.bypassOptions.maskTextFn,this.bypassOptions.recordCanvas,this.bypassOptions.slimDOMOptions,this.bypassOptions.iframeManager,this,e)},e}();function de(e){return t(t({},e),{timestamp:Date.now()})}function pe(e){void 0===e&&(e={});var n=e.emit,r=e.checkoutEveryNms,a=e.checkoutEveryNth,i=e.blockClass,s=void 0===i?"rr-block":i,l=e.blockSelector,u=void 0===l?null:l,c=e.ignoreClass,d=void 0===c?"rr-ignore":c,p=e.maskTextClass,f=void 0===p?"rr-mask":p,v=e.maskTextSelector,y=void 0===v?null:v,g=e.inlineStylesheet,b=void 0===g||g,S=e.maskAllInputs,k=e.maskInputOptions,C=e.slimDOMOptions,w=e.maskInputFn,x=e.maskTextFn,T=e.hooks,N=e.packFn,M=e.sampling,_=void 0===M?{}:M,L=e.mousemoveWait,R=e.recordCanvas,F=void 0!==R&&R,A=e.collectFonts,H=void 0!==A&&A,W=e.recordLog,V=void 0!==W&&W;if(!n)throw new Error("emit function is required");void 0!==L&&void 0===_.mousemove&&(_.mousemove=L);var B,U,$=!0===S?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0}:void 0!==k?k:{},q=!0===C||"all"===C?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaVerification:!0,headMetaAuthorship:"all"===C,headMetaDescKeywords:"all"===C}:C||{},X={level:["assert","clear","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],lengthThreshold:1e3,logger:console},Y=V?!0===V?X:Object.assign({},X,V):{};void 0===B&&(B=window),"NodeList"in B&&!B.NodeList.prototype.forEach&&(B.NodeList.prototype.forEach=Array.prototype.forEach),"DOMTokenList"in B&&!B.DOMTokenList.prototype.forEach&&(B.DOMTokenList.prototype.forEach=Array.prototype.forEach),Node.prototype.contains||(Node.prototype.contains=function(e){if(!(0 in arguments))throw new TypeError("1 argument is required");do{if(this===e)return!0}while(e=e&&e.parentNode);return!1});var K=0;se=function(e,t){var o;if(!(null===(o=te[0])||void 0===o?void 0:o.isFrozen())||e.type===m.FullSnapshot||e.type===m.IncrementalSnapshot&&e.data.source===h.Mutation||te.forEach((function(e){return e.unfreeze()})),n(N?N(e):e,t),e.type===m.FullSnapshot)U=e,K=0;else if(e.type===m.IncrementalSnapshot){if(e.data.source===h.Mutation&&e.data.isAttachIframe)return;K++;var i=a&&K>=a,s=r&&e.timestamp-U.timestamp>r;(i||s)&&le(!0)}};var G=function(e){se(de({type:m.IncrementalSnapshot,data:t({source:h.Mutation},e)}))},J=new ue({mutationCb:G}),Z=new ce({mutationCb:G,bypassOptions:{blockClass:s,blockSelector:u,maskTextClass:f,maskTextSelector:y,inlineStylesheet:b,maskInputOptions:$,maskTextFn:x,recordCanvas:F,slimDOMOptions:q,iframeManager:J}});le=function(e){var t,n,r,a;void 0===e&&(e=!1),se(de({type:m.Meta,data:{href:window.location.href,width:z(),height:D()}}),e),te.forEach((function(e){return e.lock()}));var i=o(function(e,t){var n=t||{},o=n.blockClass,r=void 0===o?"rr-block":o,a=n.blockSelector,i=void 0===a?null:a,s=n.maskTextClass,l=void 0===s?"rr-mask":s,u=n.maskTextSelector,c=void 0===u?null:u,d=n.inlineStylesheet,p=void 0===d||d,f=n.recordCanvas,m=void 0!==f&&f,h=n.maskAllInputs,v=void 0!==h&&h,y=n.maskTextFn,g=n.slimDOM,b=void 0!==g&&g,S={};return[O(e,{doc:e,map:S,blockClass:r,blockSelector:i,maskTextClass:l,maskTextSelector:c,skipChild:!1,inlineStylesheet:p,maskInputOptions:!0===v?{color:!0,date:!0,"datetime-local":!0,email:!0,month:!0,number:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0,textarea:!0,select:!0,password:!0}:!1===v?{password:!0}:v,maskTextFn:y,slimDOMOptions:!0===b||"all"===b?{script:!0,comment:!0,headFavicon:!0,headWhitespace:!0,headMetaDescKeywords:"all"===b,headMetaSocial:!0,headMetaRobots:!0,headMetaHttpEquiv:!0,headMetaAuthorship:!0,headMetaVerification:!0}:!1===b?{}:b,recordCanvas:m,preserveWhiteSpace:n.preserveWhiteSpace,onSerialize:n.onSerialize,onIframeLoad:n.onIframeLoad,iframeLoadTimeout:n.iframeLoadTimeout}),S]}(document,{blockClass:s,blockSelector:u,maskTextClass:f,maskTextSelector:y,inlineStylesheet:b,maskAllInputs:$,maskTextFn:x,slimDOM:q,recordCanvas:F,onSerialize:function(e){P(e)&&J.addIframe(e),j(e)&&Z.addShadowRoot(e.shadowRoot,document)},onIframeLoad:function(e,t){J.attachIframe(e,t)}}),2),l=i[0],c=i[1];if(!l)return console.warn("Failed to snapshot the document");I.map=c,se(de({type:m.FullSnapshot,data:{node:l,initialOffset:{left:void 0!==window.pageXOffset?window.pageXOffset:(null===document||void 0===document?void 0:document.documentElement.scrollLeft)||(null===(n=null===(t=null===document||void 0===document?void 0:document.body)||void 0===t?void 0:t.parentElement)||void 0===n?void 0:n.scrollLeft)||(null===document||void 0===document?void 0:document.body.scrollLeft)||0,top:void 0!==window.pageYOffset?window.pageYOffset:(null===document||void 0===document?void 0:document.documentElement.scrollTop)||(null===(a=null===(r=null===document||void 0===document?void 0:document.body)||void 0===r?void 0:r.parentElement)||void 0===a?void 0:a.scrollTop)||(null===document||void 0===document?void 0:document.body.scrollTop)||0}}})),te.forEach((function(e){return e.unlock()}))};try{var Q=[];Q.push(E("DOMContentLoaded",(function(){se(de({type:m.DomContentLoaded,data:{}}))})));var ee=function(e){return ie({mutationCb:G,mousemoveCb:function(e,t){return se(de({type:m.IncrementalSnapshot,data:{source:t,positions:e}}))},mouseInteractionCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.MouseInteraction},e)}))},scrollCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.Scroll},e)}))},viewportResizeCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.ViewportResize},e)}))},inputCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.Input},e)}))},mediaInteractionCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.MediaInteraction},e)}))},styleSheetRuleCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.StyleSheetRule},e)}))},canvasMutationCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.CanvasMutation},e)}))},fontCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.Font},e)}))},logCb:function(e){return se(de({type:m.IncrementalSnapshot,data:t({source:h.Log},e)}))},blockClass:s,ignoreClass:d,maskTextClass:f,maskTextSelector:y,maskInputOptions:$,inlineStylesheet:b,sampling:_,recordCanvas:F,collectFonts:H,doc:e,maskInputFn:w,maskTextFn:x,logOptions:Y,blockSelector:u,slimDOMOptions:q,iframeManager:J,shadowDomManager:Z},T)};J.addLoadListener((function(e){Q.push(ee(e.contentDocument))}));var ne=function(){le(),Q.push(ee(document))};return"interactive"===document.readyState||"complete"===document.readyState?ne():Q.push(E("load",(function(){se(de({type:m.Load,data:{}})),ne()}),window)),function(){Q.forEach((function(e){return e()}))}}catch(e){console.warn(e)}}return pe.addCustomEvent=function(e,t){if(!se)throw new Error("please add custom event after start recording");se(de({type:m.Custom,data:{tag:e,payload:t}}))},pe.freezePage=function(){te.forEach((function(e){return e.freeze()}))},pe.takeFullSnapshot=function(e){if(!le)throw new Error("please take full snapshot after start recording");le(e)},pe}();
//# sourceMappingURL=rrweb-record.min.js.map
